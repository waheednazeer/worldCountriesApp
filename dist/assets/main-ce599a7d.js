import"./feedback-03c10438.js";import{c as y,a as h,i as g,l as C,w as E,m as S}from"./htmltemplates-d8c40e18.js";async function T(a,n){try{const l=await(await fetch(a)).json();m(n,l)}catch(o){console.error(o)}}async function A(a,n){try{const l=await(await fetch(a)).json();m(n,l)}catch(o){console.error(o)}}function m(a,n){let o=JSON.stringify(n);localStorage.setItem(a,o)}function f(a){let n=localStorage.getItem(a);return JSON.parse(n)}function x(a){let n;for(let o=0;o<a.length;o++)if(o==0)n=a[o].toUpperCase();else if(a[o]==" "){let l=o+1;n=n+" "+a[l].toUpperCase(),o++}else n=n+a[o].toLowerCase();return n}function F(a,n,o){let l=n,t,s,d,u,c,p=!0;if(a.forEach(e=>{(e.name.common==l||e.cca2==l||e.cca3==l)&&(l=e.name.common,t=e.flag,u=e.cca2,c=e.cca3,s=[e.name.official,e.capital,e.cca2,e.cca3,e.area,e.population,Object.values(e.languages)],d=[e.callingCodes[0],e.region,e.subregion,e.borders],p=!1)}),p){alert("Please check your country name!");return}document.querySelector(".flag").setAttribute("src",t),y(),h(s),g(d),C(),j(a,u),E(v(o,u,c))}function j(a,n){let o=document.querySelector(".ul-1"),l=document.querySelector(".ul-2"),t=document.querySelector(".ul-3"),s=document.querySelector(".ul-4"),d=document.querySelector(".ul-5");a.forEach(u=>{if(u.cca2==n){let c=0;u.borders.forEach(p=>{a.forEach(r=>{if(r.cca3==p){if(c<3){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),o.appendChild(e),c++}else if(c>=3&&c<6){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),l.appendChild(e),c++}else if(c>=6&&c<9){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),t.appendChild(e),c++}else if(c>=9&&c<12){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),s.appendChild(e),c++}else if(c>=12&&c<15){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),d.appendChild(e),c++}}})})}})}function v(a,n,o){let l=[];return a.forEach(t=>{(t.country.id==n||t.country.countryiso3code==o)&&(t.value==null?(t.value="--",l[0]=t.value):l[0]=(t.value/1e9).toFixed(2),t.inflation==null?(t.inflation="--",l[1]=t.inflation):l[1]=t.inflation.toFixed(2),t.education==null?(t.education="--",l[2]=t.education):l[2]=t.education.toFixed(2),t.population_growth==null?(t.population_growth="--",l[3]=t.population_growth):l[3]=t.population_growth.toFixed(2),t.electricity==null?(t.electricity="--",l[4]=t.electricity):l[4]=t.electricity.toFixed(2),t.forest_area==null?(t.forest_area="--",l[5]=t.forest_area):l[5]=t.forest_area.toFixed(2))}),l}let i;function N(){let a=document.getElementById("search").value,n=document.getElementById("search");if(!n.checkValidity()){alert(n.validationMessage);return}i=x(a),console.log(i),i.length<4&&(i=i.toUpperCase()),localStorage.setItem("countryKey",i);let o=f("wbKey"),l=f("apiKey");F(l,i,o)}function k(){alert(`Please follow below rules,
1: Country Name can be two letters,
2: Three letters or full name including space if any.
3: Capital/ Small/ Title case allowed`)}let q="../json/wb.json",L="../json/country.json";S();document.querySelector("#btn").addEventListener("click",N);document.querySelector(".help").addEventListener("click",k);let _=f("wbKey");_==null&&(console.log("First Api Fetch!!!"),T(q,"wbKey"));let K=f("apiKey");K==null&&(console.log("First Api Fetch!!!"),A(L,"apiKey"));
