import{c as y,a as h,i as g,l as C,w as E,m as T}from"./htmltemplates-9bc7ac63.js";import"./feedback-94631c51.js";async function S(n,a){try{const l=await(await fetch(n)).json();m(a,l)}catch(o){console.error(o)}}async function A(n,a){try{const l=await(await fetch(n)).json();m(a,l)}catch(o){console.error(o)}}function m(n,a){let o=JSON.stringify(a);localStorage.setItem(n,o)}function f(n){let a=localStorage.getItem(n);return JSON.parse(a)}function v(n){let a;for(let o=0;o<n.length;o++)if(o==0)a=n[o].toUpperCase();else if(n[o]==" "){let l=o+1;a=a+" "+n[l].toUpperCase(),o++}else a=a+n[o].toLowerCase();return a}function F(n,a,o){let l=a,t,s,d,u,c,p=!0;if(n.forEach(e=>{(e.name.common==l||e.cca2==l||e.cca3==l)&&(l=e.name.common,t=e.flag,u=e.cca2,c=e.cca3,s=[e.name.official,e.capital,e.cca2,e.cca3,e.area,e.population,Object.values(e.languages)],d=[e.callingCodes[0],e.region,e.subregion,e.borders],p=!1)}),p){alert("Please check your country name!");return}document.querySelector(".flag").setAttribute("src",t),y(),h(s),g(d),C(),x(n,u),E(j(o,u,c))}function x(n,a){let o=document.querySelector(".ul-1"),l=document.querySelector(".ul-2"),t=document.querySelector(".ul-3"),s=document.querySelector(".ul-4"),d=document.querySelector(".ul-5");n.forEach(u=>{if(u.cca2==a){let c=0;u.borders.forEach(p=>{n.forEach(r=>{if(r.cca3==p){if(c<3){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),o.appendChild(e),c++}else if(c>=3&&c<6){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),l.appendChild(e),c++}else if(c>=6&&c<9){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),t.appendChild(e),c++}else if(c>=9&&c<12){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),s.appendChild(e),c++}else if(c>=12&&c<15){let e=document.createElement("li");e.appendChild(document.createTextNode(r.name.common)),d.appendChild(e),c++}}})})}})}function j(n,a,o){let l=[];return n.forEach(t=>{(t.country.id==a||t.country.countryiso3code==o)&&(t.value==null?(t.value="--",l[0]=t.value):l[0]=(t.value/1e9).toFixed(2),t.inflation==null?(t.inflation="--",l[1]=t.inflation):l[1]=t.inflation.toFixed(2),t.education==null?(t.education="--",l[2]=t.education):l[2]=t.education.toFixed(2),t.population_growth==null?(t.population_growth="--",l[3]=t.population_growth):l[3]=t.population_growth.toFixed(2),t.electricity==null?(t.electricity="--",l[4]=t.electricity):l[4]=t.electricity.toFixed(2),t.forest_area==null?(t.forest_area="--",l[5]=t.forest_area):l[5]=t.forest_area.toFixed(2))}),l}let i;function L(){let n=document.getElementById("search").value,a=document.getElementById("search");if(!a.checkValidity()){alert(a.validationMessage);return}i=v(n),console.log(i),i.length<4&&(i=i.toUpperCase()),localStorage.setItem("countryKey",i);let o=f("wbKey"),l=f("apiKey");F(l,i,o)}function N(){alert(`Please follow below rules,
1: Country Name can be two letters,
2: Three letters or full name including space if any.
3: Capital/ Small/ Title case allowed`)}let k="json/wb.json",q="json/country.json";T();document.querySelector("#btn").addEventListener("click",L);document.querySelector(".help").addEventListener("click",N);let _=f("wbKey");_==null&&(console.log("First Api Fetch!!!"),S(k,"wbKey"));let B=f("apiKey");B==null&&(console.log("First Api Fetch!!!"),A(q,"apiKey"));var D=new Date().getFullYear();document.getElementById("currentyear").innerHTML=D;var I=document.lastModified;document.getElementById("lastmodified").innerHTML=I;
